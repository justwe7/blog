<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>名词解释 | 前端日志</title>
    <meta name="description" content="土豆和土豆丝的学习记录">
    <link rel="icon" href="/blog/favorite.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.244ca03c.css" as="style"><link rel="preload" href="/blog/assets/js/app.2b65cc84.js" as="script"><link rel="preload" href="/blog/assets/js/2.9c8da183.js" as="script"><link rel="preload" href="/blog/assets/js/27.d4112cc7.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.f4b9808b.js"><link rel="prefetch" href="/blog/assets/js/11.17753fa8.js"><link rel="prefetch" href="/blog/assets/js/12.eed41aa4.js"><link rel="prefetch" href="/blog/assets/js/13.2cbdc8f2.js"><link rel="prefetch" href="/blog/assets/js/14.c71b01e9.js"><link rel="prefetch" href="/blog/assets/js/15.4b7c71de.js"><link rel="prefetch" href="/blog/assets/js/16.55b235e6.js"><link rel="prefetch" href="/blog/assets/js/17.611a1b55.js"><link rel="prefetch" href="/blog/assets/js/18.42680970.js"><link rel="prefetch" href="/blog/assets/js/19.6b0ff29f.js"><link rel="prefetch" href="/blog/assets/js/20.49fb4f8f.js"><link rel="prefetch" href="/blog/assets/js/21.5490e3f0.js"><link rel="prefetch" href="/blog/assets/js/22.0cbe4eb6.js"><link rel="prefetch" href="/blog/assets/js/23.0d6f1752.js"><link rel="prefetch" href="/blog/assets/js/24.4207d03c.js"><link rel="prefetch" href="/blog/assets/js/25.047d0f1e.js"><link rel="prefetch" href="/blog/assets/js/26.8143fab4.js"><link rel="prefetch" href="/blog/assets/js/28.883ca809.js"><link rel="prefetch" href="/blog/assets/js/29.eb0a0979.js"><link rel="prefetch" href="/blog/assets/js/3.d2b25e93.js"><link rel="prefetch" href="/blog/assets/js/30.dc4a32e4.js"><link rel="prefetch" href="/blog/assets/js/31.bb74dcc9.js"><link rel="prefetch" href="/blog/assets/js/32.19b9b2ad.js"><link rel="prefetch" href="/blog/assets/js/33.1c5b491a.js"><link rel="prefetch" href="/blog/assets/js/34.4449dbb9.js"><link rel="prefetch" href="/blog/assets/js/35.de6137d1.js"><link rel="prefetch" href="/blog/assets/js/36.f90f55dc.js"><link rel="prefetch" href="/blog/assets/js/37.6774285b.js"><link rel="prefetch" href="/blog/assets/js/38.40333629.js"><link rel="prefetch" href="/blog/assets/js/39.93e0dfab.js"><link rel="prefetch" href="/blog/assets/js/4.31f14a68.js"><link rel="prefetch" href="/blog/assets/js/40.ae2ff175.js"><link rel="prefetch" href="/blog/assets/js/41.18cb6f45.js"><link rel="prefetch" href="/blog/assets/js/42.d18f15b7.js"><link rel="prefetch" href="/blog/assets/js/43.93d1cf0f.js"><link rel="prefetch" href="/blog/assets/js/44.2e68a699.js"><link rel="prefetch" href="/blog/assets/js/45.294aa832.js"><link rel="prefetch" href="/blog/assets/js/46.4173b20d.js"><link rel="prefetch" href="/blog/assets/js/47.4bcbe3f2.js"><link rel="prefetch" href="/blog/assets/js/48.16b7b98a.js"><link rel="prefetch" href="/blog/assets/js/49.89a9d560.js"><link rel="prefetch" href="/blog/assets/js/5.9f0256c8.js"><link rel="prefetch" href="/blog/assets/js/50.3d1fcdf9.js"><link rel="prefetch" href="/blog/assets/js/51.33050d1b.js"><link rel="prefetch" href="/blog/assets/js/52.fe886e37.js"><link rel="prefetch" href="/blog/assets/js/53.a237ef53.js"><link rel="prefetch" href="/blog/assets/js/54.0817b5a4.js"><link rel="prefetch" href="/blog/assets/js/55.34909e91.js"><link rel="prefetch" href="/blog/assets/js/56.833686de.js"><link rel="prefetch" href="/blog/assets/js/57.ee3140fa.js"><link rel="prefetch" href="/blog/assets/js/58.a7e7d812.js"><link rel="prefetch" href="/blog/assets/js/6.9afed123.js"><link rel="prefetch" href="/blog/assets/js/7.b09c9cf4.js"><link rel="prefetch" href="/blog/assets/js/8.bbc14bdf.js"><link rel="prefetch" href="/blog/assets/js/9.2f86661d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.244ca03c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">前端日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/justwe7/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/justwe7/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础概念</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/基础概念/chrome-devtools加载数据失败.html" class="sidebar-link">chrome-devtools加载数据失...</a></li><li><a href="/blog/基础概念/echarts地图绘制代码留用.html" class="sidebar-link">echarts地图绘制代码留用</a></li><li><a href="/blog/基础概念/eslint针对文件忽略语法.html" class="sidebar-link">eslint针对文件忽略语法</a></li><li><a href="/blog/基础概念/for-in遍历对象属性的顺序与定义是否相同.html" class="sidebar-link">for-in遍历对象属性的顺序与定义是否...</a></li><li><a href="/blog/基础概念/gitcherry-pick备忘.html" class="sidebar-link">gitcherry-pick备忘</a></li><li><a href="/blog/基础概念/git基本工作流程.html" class="active sidebar-link">git基本工作流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#分支" class="sidebar-link">分支</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#本地分支" class="sidebar-link">本地分支</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#远程分支" class="sidebar-link">远程分支</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#head" class="sidebar-link">HEAD</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#pull" class="sidebar-link">pull</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#push" class="sidebar-link">push</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#分支操作" class="sidebar-link">分支操作</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#merge与rebase-合并分支" class="sidebar-link">merge与rebase(合并分支)</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#工作流程" class="sidebar-link">工作流程</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#一、首先确认环境" class="sidebar-link">一、首先确认环境</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#二、准备开发" class="sidebar-link">二、准备开发</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#三、代码提交与推送" class="sidebar-link">三、代码提交与推送</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#四、代码上线" class="sidebar-link">四、代码上线</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#五、总结" class="sidebar-link">五、总结</a></li><li class="sidebar-sub-header"><a href="/blog/基础概念/git基本工作流程.html#需求版本操作流程示例整合-假设需求版本为v1-1" class="sidebar-link">需求版本操作流程示例整合(假设需求版本为v1.1)</a></li></ul></li><li><a href="/blog/基础概念/git如何保持commit信息整洁.html" class="sidebar-link">git如何保持commit信息整洁</a></li><li><a href="/blog/基础概念/git常用的分支操作.html" class="sidebar-link">git常用的分支操作</a></li><li><a href="/blog/基础概念/nginx控制.html" class="sidebar-link">nginx控制</a></li><li><a href="/blog/基础概念/vue中v-model和sync修饰符.html" class="sidebar-link">vue中v-model和sync修饰符</a></li><li><a href="/blog/基础概念/函数定义的5种方式.html" class="sidebar-link">函数定义的5种方式</a></li><li><a href="/blog/基础概念/攻略chrome控制台.html" class="sidebar-link">攻略chrome控制台</a></li><li><a href="/blog/基础概念/模块化.html" class="sidebar-link">模块化</a></li><li><a href="/blog/基础概念/配置多个git-ssh.html" class="sidebar-link">配置多个git-ssh</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>广度知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深度知识</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="名词解释"><a href="#名词解释" class="header-anchor">#</a> 名词解释</h1> <hr> <h2 id="分支"><a href="#分支" class="header-anchor">#</a> 分支</h2> <p>如<code>master分支，dev分支</code>，使用分支可以把工作从开发主线上分离开来,以免影响开发主线代码</p> <h2 id="本地分支"><a href="#本地分支" class="header-anchor">#</a> 本地分支</h2> <p>开发者主机上基于远程分支创建，修改并不会影响远程分支的内容，执行push会与远程分支合并形成新的分支</p> <h2 id="远程分支"><a href="#远程分支" class="header-anchor">#</a> 远程分支</h2> <p>git仓库某个分支</p> <h2 id="head"><a href="#head" class="header-anchor">#</a> HEAD</h2> <p>HEAD指向的是现在使用中的分支的最后一次更新。通常默认指向master分支的最后一次更新。通过移动HEAD，就可以变更使用的分支。
<code>git push origin HEAD:release 将当前工作的分支指向到release分支，无需切换合并</code></p> <h2 id="pull"><a href="#pull" class="header-anchor">#</a> pull</h2> <ul><li>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;
当前分支是feature，但是你想把远程master”同步”到本地master，但又不想checkout切换到master分支,使用<code>git pull origin master:master</code></li> <li>git pull origin &lt;远程主机名&gt;
如果当前分支与远程分支存在追踪关系,将指定远程分支同步到当前本地分支<code>git pull origin master</code></li> <li>git pull</li></ul> <p>git pull --rebase origin branch
本地分支已经和想要拉取的分支建立了“关联”关系。拉取所有远程分支的新版本&quot;坐标&quot;，并同步当前分支的本地代码(具体根据关联分支而定)
什么是&quot;关联&quot;分支?<code>git branch -vv</code>查看分支关联
配置关联方法</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>. <span class="token function">git</span> checkout -b dev origin/dev
当我们检查时，git会自动为我们检出的分支和远程分支建立关联关系
<span class="token number">2</span>. <span class="token function">git</span> push -u origin <span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">git</span> push --set-upstream origin <span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span>
默认配置下，提交时本地分支需和远程分支同名
<span class="token number">3</span>. <span class="token function">git</span> branch --set-upstream-to<span class="token operator">=</span><span class="token operator">&lt;</span>远程分支<span class="token operator">&gt;</span>
</code></pre></div><h2 id="push"><a href="#push" class="header-anchor">#</a> push</h2> <p>推送本地分支到远程，与pull的可选参数基本相同
没有&quot;关联&quot;分支的情况下，使用push会先让你设置一个upstream branch.</p> <table><thead><tr><th>指令</th> <th>描述</th></tr></thead> <tbody><tr><td>git push</td> <td>将当前已关联分支代码同步到远程同名分支</td></tr> <tr><td>git push origin master</td> <td>master推送本地分支到远程master</td></tr> <tr><td>git push origin feature:dev</td> <td>提交本地feature分支到远程的dev分支</td></tr> <tr><td>git push origin :dev</td> <td>提交到远程的dev将被删除，但是本地还会保存</td></tr></tbody></table> <h2 id="分支操作"><a href="#分支操作" class="header-anchor">#</a> 分支操作</h2> <table><thead><tr><th>指令</th> <th>描述</th></tr></thead> <tbody><tr><td>git branch</td> <td>查看本地分支</td></tr> <tr><td>git branch -r</td> <td>查看远程分支</td></tr> <tr><td>git branch -m old new</td> <td>修改分支名</td></tr> <tr><td>git branch -a</td> <td>查看所有分支</td></tr> <tr><td>git branch feature</td> <td>创建本地feature分支</td></tr> <tr><td>git push origin feature-bug</td> <td>创建远程feature-bug分支</td></tr> <tr><td>git checkout dev</td> <td>切换到dev分支</td></tr> <tr><td>git merge feature</td> <td>合并feature分支到当前分支(多出一个节点)</td></tr> <tr><td>git rebase feature</td> <td>合并feature分支到当前分支(master变基到当前分支)</td></tr></tbody></table> <h2 id="merge与rebase-合并分支"><a href="#merge与rebase-合并分支" class="header-anchor">#</a> merge与rebase(合并分支)</h2> <p>如小明与小红同时基于master分支各自创建了b-ming和b-hong分支，小明首先完成，并合并到了master分支，(假设没有代码冲突)小红之后进行push操作会提示需要先pull，之后再进行提交操作。</p> <ol><li>使用merge合并
合并最新的master和小红的最新分支，汇入一个最新的分支指向，会多余一个合并提交的结尾</li></ol> <table><thead><tr><th>指令</th> <th>描述</th></tr></thead> <tbody><tr><td>git merge feature</td> <td>只保留单条分支记录</td></tr> <tr><td>git merge --no-ff feature</td> <td>保留分支的commit历史</td></tr> <tr><td>git merge --squash feature</td> <td>把多次分支commit历史压缩为一次</td></tr></tbody></table> <ol start="2"><li>使用rebase
基于小明的分支b-ming的最新mater之后添加小红的分支，并最终指向为小红的分支</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>可以在pull添加模式 <span class="token function">git</span> pull --rebase origin master,--rebase选项告诉Git把小红的提交移到同步了中央仓库修改后的master分支的顶部
出现冲突
<span class="token function">git</span> <span class="token function">add</span> <span class="token operator">&lt;</span>some-file<span class="token operator">&gt;</span> 
<span class="token function">git</span> rebase --continue
如果你碰到了冲突，但发现搞不定，不要惊慌。只要执行下面这条命令，就可以回到你执行git pull --rebase命令前的样子：
<span class="token function">git</span> rebase --abort
</code></pre></div><p>拉取变基
如线上最新分支为A-B-C-D服务器为A-B-E
需要先pull一下再push，那最终服务器上会是A-B-分叉：一边是C-D，一边是E，然后E和D又连到一个新的merge commit F上，优点：记录下合并动作；缺点：很多时候这种合并动作是垃圾信息，记录意义不大，反而把历史树搞得复杂不直观，会对实际工作带来负面作用。
如果先做一次rebase。git pull --rebase，那么本地分支就会被更新成A-B-E-C'-D'，把C-D的基从B上变到E上，这时再去push，那服务器上也变成A-B-E-C'-D'. 那tag打在D'上就行了。目标分支上的历史树还是一条线<br> <strong>git rebase过程相比较git merge合并整合得到的结果没有任何区别，但是通过git rebase衍合能产生一个更为整洁的提交历史。</strong></p> <h2 id="工作流程"><a href="#工作流程" class="header-anchor">#</a> 工作流程</h2> <h2 id="一、首先确认环境"><a href="#一、首先确认环境" class="header-anchor">#</a> 一、首先确认环境</h2> <ul><li>每次操作前，确认本地环境是否干净？</li> <li>是否有未提交内容？</li> <li>是否有未添加内容？
git status
红色：未添加
黄色：未提交本地分支
出现：nothing to commit, working tree clean 视为可操作环境</li></ul> <h2 id="二、准备开发"><a href="#二、准备开发" class="header-anchor">#</a> 二、准备开发</h2> <h3 id="步骤："><a href="#步骤：" class="header-anchor">#</a> 步骤：</h3> <ol><li>基于最新master新建本地工作分支</li> <li>将本地分支推送到远端分支</li></ol> <h3 id="命令："><a href="#命令：" class="header-anchor">#</a> 命令：</h3> <ol><li>git checkout -b &lt;本地分支&gt; origin/&lt;远程分支&gt;    
  例：git checkout -b feature-bugfixes origin/master
  说明：基于远端 master 新建 feature-bugfixes 分支，feature-bugfixes 为本地开发分支</li> <li>git push origin &lt;本地分支&gt;:&lt;远程分支&gt;
例：git push origin feature-bugfixes:feature-bugfixes
说明：将本地 feature-bugfixes 分支推送到远端 feature-bugfixes 分支
备注：
<strong>分支命名遵循feature-xxx，jira-0000，hotfix-0000等格式</strong></li></ol> <h2 id="三、代码提交与推送"><a href="#三、代码提交与推送" class="header-anchor">#</a> 三、代码提交与推送</h2> <h3 id="步骤：-2"><a href="#步骤：-2" class="header-anchor">#</a> 步骤：</h3> <ol><li>将新增文件添加到版本库</li> <li>修改代码后，提交到本地</li> <li>将本地分支同步到远端分支</li></ol> <h3 id="命令：-2"><a href="#命令：-2" class="header-anchor">#</a> 命令：</h3> <ol><li><code>git add &lt;path&gt;</code> 或 <code>git add .</code> 或 <code>git add documentation/*.txt</code>
例：git add .
说明：将所有新改动添加到版本控制中</li></ol> <ul><li>git add -A 暂存当前git仓库下更高级目录下的所有变化</li> <li>git add . 暂存当前目录下包括子孙目录的所有文件变化</li></ul> <ol start="2"><li>git commit -m &quot;message&quot;
例：git commit -m &quot;jira-0000: 修改图片播放顺序&quot;
说明：将本地修改提交到当前分支，提交信息为：jira-0000: 修改图片播放顺序</li> <li>git push origin local-branch:origin-branch
例：git push origin feature-bugfixes:feature-bugfixes
说明：将本地 feature-bugfixes 分支的修改同步到远端 feature-bugfixes 分支
备注：
<strong>提交信息格式遵循：jira-xxx: 修改图片播放顺序</strong></li></ol> <h2 id="四、代码上线"><a href="#四、代码上线" class="header-anchor">#</a> 四、代码上线</h2> <p>代码开发完成，需要把feature分支合并到对应分支进行提测、上线</p> <table><thead><tr><th>提交环境</th> <th>git分支</th> <th>注意事项</th></tr></thead> <tbody><tr><td>测试环境</td> <td>dev</td> <td>合并时自己做code-review(尽量避免出现因粗心问题重复提交产生无用节点)</td></tr> <tr><td>预发布环境</td> <td>release</td> <td>bug全部修改完成，已达到提测条件</td></tr> <tr><td>生产环境</td> <td>master</td> <td>预发布已无bug，可以上线</td></tr></tbody></table> <h3 id="合并步骤-方法1"><a href="#合并步骤-方法1" class="header-anchor">#</a> 合并步骤(方法1):</h3> <ul><li>步骤：</li></ul> <ol><li>切换至对应的远程分支(dev/release/master)</li> <li>更新远程代码为最新</li> <li>合并代码分支代码</li> <li>推送代码</li></ol> <ul><li>示例：</li></ul> <ol><li>git checkout dev //切换分支到dev</li> <li>git pull origin dev</li> <li>git merge origin/feature</li> <li>git push origin dev</li></ol> <h3 id="合并步骤-方法2"><a href="#合并步骤-方法2" class="header-anchor">#</a> 合并步骤(方法2):</h3> <ol><li>登录 <a href="http://gitlab.fenqi.d.xiaonei.com/" target="_blank" rel="noopener noreferrer">gitlab<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>选择项目 -&gt; 选择 Merge Requests -&gt; 点击 New Merge Requests</li> <li>Source branch 选择 feature 开发分支</li> <li>Target branch 选择对应环境分支</li> <li>点击 Compare branches 提交 merge 请求</li></ol> <h2 id="五、总结"><a href="#五、总结" class="header-anchor">#</a> 五、总结</h2> <p>工作流程基本只操作各自feature-xxx功能分支，合并feature-xxx分支至dev
<strong>避免直接修改</strong>三个主干分支 master、release、dev,需求迭代使用merge方式推动节点更新</p> <h2 id="需求版本操作流程示例整合-假设需求版本为v1-1"><a href="#需求版本操作流程示例整合-假设需求版本为v1-1" class="header-anchor">#</a> 需求版本操作流程示例整合(假设需求版本为v1.1)</h2> <ul><li>准备开发</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> status
<span class="token function">git</span> pull origin master //拉取最新master分支 
<span class="token function">git</span> checkout -b feature-v1.1 origin/master //基于远端master创建本地feature-v1.1分支
<span class="token function">git</span> push origin feature-v1.1:feature-v1.1 //推送本地feature-v1.1至远端
</code></pre></div><blockquote><p><strong>多人协作-任务分工</strong> 如遇到多人（小明、小红）同时开发v1.1版本，小明首先创建好远端的v1.1分支，小红基于v1.1分支拉取自己维护的分支feature-v1.1red，小明基于v1.1开发</p></blockquote> <ul><li>代码存档</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> 
<span class="token function">git</span> commit -m <span class="token string">&quot;feature-v1.1: 新增轮播图功能&quot;</span> 
<span class="token function">git</span> push origin feature-v1.1:feature-v1.1 //本地版本库推送至远程feature-v1.1 
</code></pre></div><ul><li>发布(提测/预发布/生产)</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>方式一：基于<span class="token punctuation">(</span>dev/release/master<span class="token punctuation">)</span>分支操作
<span class="token function">git</span> checkout master 
<span class="token function">git</span> pull origin master //确保当前master为最新节点 
<span class="token function">git</span> merge origin/feature-v1.1 //合并远程feature-v1.1到当前分支<span class="token punctuation">(</span>需确保当前版本feature已push到远程<span class="token punctuation">)</span> 
<span class="token comment">#git merge --no-ff origin/feature-v1.1 //保留分支的commit历史 </span>
<span class="token comment">#git merge --squash origin/feature-v1.1 //把多次分支commit历史压缩为一次 </span>
<span class="token comment">#如多人同时修改可能出现冲突(解决冲突后执行 git add . ) </span>
<span class="token function">git</span> commit -m <span class="token string">'feature 轮播图需求上线'</span> 
<span class="token function">git</span> push origin HEAD:master 
方式二：基于feature分支操作<span class="token punctuation">(</span>需确保当前feature没有push到远程版本库，commit之后未执行push操作<span class="token punctuation">)</span> 
<span class="token function">git</span> checkout feature-v1.1 //切换分支到feature-v1.1 
<span class="token function">git</span> rebase origin/master //将远程的master分支变基至当前节点 
<span class="token function">git</span> push origin feature-v1.1:master 
<span class="token comment">#git rebase过程相比较git merge合并整合得到的结果没有任何区别，但是通过git rebase衍合能产生一个更为整洁的提交历史。 </span>
</code></pre></div><blockquote><p><strong>多人协作-功能开发完成</strong> 小红首先将自己维护的分支feature-v1.1red合并至小明维护的v1.1分支，小明整合代码内容为功能完善的v1.1版本代码，再执行合并至远端dev/release/master操作</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/justwe7/blog/edit/feature/基础概念/git基本工作流程.md" target="_blank" rel="noopener noreferrer">纠正错误</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最近提交:</span> <span class="time">6/28/2020, 7:47:49 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/基础概念/gitcherry-pick备忘.html" class="prev">gitcherry-pick备忘</a></span> <span class="next"><a href="/blog/基础概念/git如何保持commit信息整洁.html">git如何保持commit信息整洁</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div></div></div></div>
    <script src="/blog/assets/js/app.2b65cc84.js" defer></script><script src="/blog/assets/js/2.9c8da183.js" defer></script><script src="/blog/assets/js/27.d4112cc7.js" defer></script>
  </body>
</html>
